{% extends 'base/main.html' %}


{% block content %}
    <div style="max-width: 1200px; margin:0 auto; padding:2rem;">
        <!-- Baslik -->
        <div style="text-align: center; margin-bottom: 3rem">
            <h1 style="font-size: 3rem; margin-bottom:1rem">Hos Geldiniz</h1>
            <p style="font-size: 1.2rem; color: #666">En son blog yazilarimi kesfedin</p>
        </div>
        <!-- Kategoriler -->
        {% if categories %}
            <div style="margin-bottom: 2rem;">
                <h3>Kategoriler</h3>
                <div style="display: flex; gap: 1rem; flex-wrap: nowrap">
                    {% for category in categories %}
                        <a href="{% url 'category' category.id %}"
                           style="background: #e3f2fd; padding: 0.5rem 1rem; border-radius: 20px;">{{ category.name }}</a>
                    {% endfor %}
                </div>
            </div>
        {% endif %}

        <!-- Blog Yazilari -->
        <h2 style="margin-bottom: 2rem">Son Yazilar</h2>
        {% if posts %}
            <div>
                {% for post in posts %}
                    <div>
                        <!--Gorsel-->
                        {% if post.image %}
                            <img src="{{ post.image.url }}" alt="{{ post.title }}"
                                 style="width: 100%; height: 200px; object-fit: cover ">
                        {% else %}
                            <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items:center; color:white; font-size:3rem; ">
                                üìù
                            </div>
                        {% endif %}
                        <!-- Icerik -->
                        <div style="padding: 1.5rem;">
                            <h3 style="margin-bottom: 0.5rem; color: brown; font-size: 2rem">{{ post.title }}</h3>
                            <p>
                                üë§ {{ post.author.username }} |
                                üìÖ {{ post.created_at|date:"d M Y" }} |
                                üëÅÔ∏è {{ post.views }} Goruntulenme
                            </p>
                            <p style="color:#333; margin-bottom: 1rem;">
                                {{ post.excerpt|truncatewords:20 }}
                            </p>
                            <a href="{% url 'post' post.slug %}"
                               style="background: #4CAF50; color: white; padding: 0.5rem 1rem; text-decoration: none; border-radius: 5px; display: inline-block;">
                                Devamini Oku ->
                            </a>

                        </div>
                    </div>
                {% endfor %}

            </div>

            {% if posts.has_other_pages %}
                <div style="text-align:center; margin-top:3rem; display: flex; gap:1rem; justify-content: center; align-items: center">

                    {% if posts.has_previous %}
                        <a href="?page={{ posts.previous_page_number }}"
                           style="background:#2196F3; color: white; padding: 0.8rem 1.5rem; text-decoration: none; border-radius: 5px">Onceki</a>
                    {% endif %}

                    <span style="color: #666">{{ posts.number }} / {{ posts.paginator.num_pages }}</span>
                    {% if posts.has_next %}
                        <a style="padding: 0.8rem 1.5rem; background:#2196F3; color: white; text-decoration: none; border-radius: 5px "
                           href="?page={{ posts.next_page_number }}">Sonraki</a>
                    {% endif %}
                </div>
            {% endif %}
        {% else %}
            <p style="text-align: center; padding: 3rem; color: #999; font-size: 1.2rem">
                Henuz bir blog yazisi yok
            </p>
        {% endif %}
    </div>
{% endblock %}
